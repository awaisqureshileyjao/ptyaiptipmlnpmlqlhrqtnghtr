/**

 * TBW FIELDS VERSION 1.0

 * Created by MklProgi TBW on 04/01/17.

 * Copyright 2017 MklProgi TBW

 */

(function(e){e.fn.tbwField=function(h){if(0===this.length)return this;if(1<this.length)return this.each(function(){e(this).tbwField(h)}),this;var a=this,b,x=function(m){a.hide();var g=a.attr("placeholder"),n="",p="",q="",r="",h=!1,t=!1,y=!1,k=!1,u=!1,z=0,A="",c=e('<div class="tbwfields-input copc_is_required_'+a.prop("required")+'"></div>'),d=e('<input type="'+m+'" value="'+a.val()+'" name="'+ a.attr('name') +'">'),f=e('<div class="tbwfields-placeholder"></div>'),v=e('<div class="tbwfields-focusbar"></div>');b.flatDesign&&c.addClass("flat-design");a.prop("required")&&(u=!0); 
if (a.prop("required")){
	a.prop("required", false);
	d.prop("required", true);
}

a.prop("disabled")&&(u=!0);d.prop("disabled",a.prop("disabled"));a.attr("id")&&d.attr("id","tbw-"+a.attr("id"));"undefined"!==typeof a.data("tbwicon")&&""!==a.data("tbwicon")&&(n=e('<i class="'+a.data("tbwicon")+' tbwicon"></i>'),h=!0);"undefined"!==typeof a.data("tbwbutton")&&""!==a.data("tbwbutton")&&(q=e('<span class="tbwbutton"><i class="'+a.data("tbwbutton")+' tbwbuttonicon"></i></span>'),y=!0);"undefined"!==typeof a.data("tbwmask")&&""!==a.data("tbwmask")&&(p=a.data("tbwmask"),t=!0);if("undefined"!==

typeof a.data("tbwvalidate")&&""!==a.data("tbwvalidate"))switch(r=a.data("tbwvalidate"),r){case "URL":k=!0;break;case "EMAIL":k=!0;break;default:k=!1}c.append(d);c.append(v);c.append(n);c.append(q);c.append(f);a.after(c);""===d.val()?f.html(g):f.html(g);e.isFunction(b.onBuilt)&&b.onBuilt.call(this,d);var x=c.css("background"),B=c.css("border"),z=f.css("font-size"),A=f.css("color");b.showAndMovePlaceholder&&(b.flatDesign?c.css({"padding-top":parseInt(c.css("padding-top"),10)+"px","padding-bottom":parseInt(c.css("padding-bottom"),

10)+0+"px"}):c.css({"padding-top":parseInt(c.css("padding-top"),10)+"px","padding-bottom":parseInt(c.css("padding-bottom"),10)+"px"}));t&&e.fn.mask&&d.mask(p,{clearIfNotMatch:b.clearIfNotMatch});""!==d.val()&&w(f);d.on("focus",function(){e.isFunction(b.onFocus)&&b.onFocus.call(this,d);w(f);b.showFocusBar&&v.animate({width:"100%"},b.focusBarSpeed);"background"===b.errorMark?(c.css({background:x}),c.css({border:B})):(c.css({"border-color":b.errorFieldBackground}),c.css({border:B}),b.flatDesign||

c.removeClass("error-add-style"))});d.on("change",function(){w(f)});d.on("focusout",function(){e.isFunction(b.onFocusOut)&&b.onFocusOut.call(this,d);var a=d.val(),m=A;""===a&&(b.showAndMovePlaceholder?(f.animate({top:"50%","font-size":z},100),f.css({color:m})):f.html(g));b.showFocusBar&&v.animate({width:"0%"},b.focusBarSpeed);if(k)switch(r){case "URL":""===d.val()||/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\x{00a1}\-\x{ffff}0-9]+-?)*[a-z\x{00a1}\-\x{ffff}0-9]+)(?:\.(?:[a-z\x{00a1}\-\x{ffff}0-9]+-?)*[a-z\x{00a1}\-\x{ffff}0-9]+)*(?:\.(?:[a-z\x{00a1}\-\x{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/g.test(d.val())||

l(c);break;case "EMAIL":""===d.val()||/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(d.val())||l(c)}b.markIfNotMatch&&t&&d.val().length!==p.length&&l(c);b.markIfRequiredIsEmpty&&u&&""===d.val().trim()&&l(c)});d.on("input",function(){a.val(e(this).val());e.isFunction(b.onChange)&&b.onChange.call(this,d)});setTimeout(function(){y&&C(d,q);if(h){var a=n;d.css({"padding-left":b.fixedFieldIconWidth||

a.outerWidth()+"px"});f.css({left:b.fixedFieldIconWidth||a.outerWidth()+"px"})}},200)},w=function(a){b.showAndMovePlaceholder?(a.animate({top:"8px","font-size":"11px"},100),a.css({color:b.placeholderTopColor})):a.html("")},C=function(a,g){a.css({"padding-right":b.fixedFieldButtonWidth||g.outerWidth()+"px"});0<parseInt(b.fixedFieldButtonWidth,10)&&g.css({width:b.fixedFieldButtonWidth+"px"});g.on("click",function(){e.isFunction(b.onButtonClick)&&b.onButtonClick.call(this,a)});b.flatDesign&&g.addClass("flat-design-button")},

l=function(a){"background"===b.errorMark?a.css({"background-color":b.errorFieldBackground}):(a.css({"border-color":b.errorFieldBackground}),b.flatDesign||a.addClass("error-add-style"))};b=e.extend({},{showAndMovePlaceholder:!0,fixedFieldIconWidth:0,fixedFieldButtonWidth:0,clearIfNotMatch:!1,markIfNotMatch:!0,showPasswordButton:!0,markIfRequiredIsEmpty:!0,showFocusBar:!0,focusBarSpeed:250,errorFieldBackground:"rgba(247,0,0,1.00)",placeholderTopColor:"#5A9EEF",flatDesign:!1,errorMark:"border"},h);(function(){var b=

a.prop("tagName").toLowerCase(),e=a.prop("type").toLowerCase();switch(b){case "input":if("text"!==e&&"password"!==e)return!1;x(e);return!0;default:return!1}})();return this}})(window.jQuery);